@model IReadOnlyList<TodoListApp.WebApp.Models.TaskItemDto>
@using Microsoft.AspNetCore.Mvc.TagHelpers
@using TodoListApp.WebApp.Models
@using TaskStatus = TodoListApp.WebApp.Models.TaskStatus
@{
    var listId = (int)ViewBag.ListId;
    ViewData["Title"] = $"Tasks in List #{listId}";
}

<div class="container-fluid py-4">
    <!-- Header -->
    <div class="details-header">
        <h2 class="text-primary mb-2">Tasks in List #@listId</h2>
        <a class="btn btn-outline-secondary mb-4" href="/Lists">‚Üê Back to Lists</a>
    </div>

    <!-- Tasks Table -->
    <partial name="_TasksTable" model="Model" />

    <!-- Add Task Card -->
    <partial name="_AddTaskCard" />
</div>

<style>
.details-header {
    border-bottom: 1px solid #dee2e6;
    padding-bottom: 1rem;
    margin-bottom: 2rem;
}

.overdue-row {
    background: #fff5f5 !important;
    border-left: 4px solid #dc3545;
}

.task-table {
    border-radius: 0.5rem;
    overflow: hidden;
}

.task-table .table {
    margin-bottom: 0;
}

.tag-badge {
    font-size: 0.75rem;
    margin-right: 0.25rem;
    margin-bottom: 0.25rem;
}
</style>