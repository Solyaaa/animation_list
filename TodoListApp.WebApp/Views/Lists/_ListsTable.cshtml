@model IReadOnlyList<TodoListApp.WebApp.Models.ListItemDto>

<div class="card shadow-sm lists-table">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-primary">
                    <tr>
                        <th class="ps-4">Title</th>
                        <th>Description</th>
                        <th>Tasks Count</th>
                        <th class="text-end pe-4">Actions</th>
                    </tr>
                </thead>
                <tbody>
                @{
                    int rowIndex = 0;
                }
                @foreach (var l in Model)
                {
                    rowIndex++;
                    <tr class="table-row" style="opacity: 0; transform: translateX(-20px);">
                        <td class="ps-4">
                            <div class="fw-semibold text-dark title-hover">@l.Title</div>
                        </td>
                        <td>
                            <span class="text-muted">@l.Description</span>
                        </td>
                        <td>
                            <span class="badge bg-primary rounded-pill task-badge">@l.TasksCount</span>
                        </td>
                        <td class="text-end pe-4">
                            <div class="btn-group btn-group-sm">
                                <a class="btn btn-outline-primary btn-hover" href="/Lists/Tasks/@l.Id">
                                    <i class="bi bi-folder2-open me-1"></i>Open
                                </a>
                                <a class="btn btn-outline-secondary btn-hover" href="/Lists/Edit/@l.Id">
                                    <i class="bi bi-pencil"></i>
                                </a>
                                <form method="post" action="/Lists/Delete/@l.Id" class="d-inline">
                                    <button class="btn btn-outline-danger btn-hover" type="submit"
                                            onclick="return confirm('Are you sure you want to delete this list?')">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </form>
                            </div>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
.btn-group .btn {
    border-radius: 0.25rem;
    margin-right: 0.25rem;
    transition: all 0.3s ease;
}

.btn-group .btn:last-child {
    margin-right: 0;
}

.table-primary {
    background: linear-gradient(135deg, #0d6efd, #0a58ca);
    color: white;
}

.table-primary th {
    border: none;
    font-weight: 600;
    padding: 1rem 0.75rem;
}

/* Hover effects */
.title-hover {
    transition: color 0.3s ease;
}

.title-hover:hover {
    color: #0d6efd !important;
    transform: translateX(5px);
}

.btn-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.table-row {
    transition: all 0.5s ease;
}
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Animate table rows
        const rows = document.querySelectorAll('.table-row');
        rows.forEach((row, index) => {
            setTimeout(() => {
                row.style.opacity = '1';
                row.style.transform = 'translateX(0)';
            }, 100 * index);
        });

        // Add hover effects to titles
        const titles = document.querySelectorAll('.title-hover');
        titles.forEach(title => {
            title.addEventListener('mouseenter', function() {
                this.style.color = '#0d6efd';
                this.style.transform = 'translateX(5px)';
            });
            title.addEventListener('mouseleave', function() {
                this.style.color = '';
                this.style.transform = 'translateX(0)';
            });
        });

        // Pulse animation for badges
        const badges = document.querySelectorAll('.task-badge');
        badges.forEach(badge => {
            setInterval(() => {
                badge.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    badge.style.transform = 'scale(1)';
                }, 500);
            }, 2000);
        });

        // Button hover effects
        const buttons = document.querySelectorAll('.btn-hover');
        buttons.forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            });
            btn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        });
    });
</script>